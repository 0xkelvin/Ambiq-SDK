<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Examples Guide: UART TX DMA Streaming Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Examples Guide<span id="projectnumber">&#160;SDK 5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#groups">Topics</a> &#124;
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">UART TX DMA Streaming Example<div class="ingroups"><a class="el" href="group__peripheral__examples.html">Peripheral Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This example demonstrates UART streaming driver functionality with TX DMA (Direct Memory Access) for high-performance serial communication. The application showcases UART transmission using DMA, interrupt-driven data handling, and real-time echo functionality.</p>
<h1><a class="anchor" id="uart_stream_echo_tx_dma_features"></a>
Key Features</h1>
<ol type="1">
<li><b>TX</b> <b>DMA</b> <b>Streaming:</b> Demonstrates high-performance UART transmission using DMA for efficient data transfer and low CPU utilization</li>
<li><b>Interrupt</b> <b>Driven</b> <b>Operation:</b> Implements interrupt-based data handling for real-time transmission and reception</li>
<li><b>Buffer</b> <b>Management:</b> Provides buffer management with double buffering and circular queue support</li>
<li><b>Callback</b> <b>Based</b> <b>Reception:</b> Implements callback-based reception for efficient and responsive data handling</li>
<li><b>Real</b> <b>Time</b> <b>Echo:</b> Demonstrates real-time echo functionality for bidirectional UART communication and testing</li>
</ol>
<h1><a class="anchor" id="uart_stream_echo_tx_dma_functionality"></a>
Functionality</h1>
<p>The application performs the following operations:</p><ul>
<li>Initializes UART with TX DMA configuration and buffer management</li>
<li>Implements interrupt-driven data transmission and reception</li>
<li>Provides callback-based reception for efficient data handling</li>
<li>Demonstrates real-time echo functionality for bidirectional communication</li>
<li>Monitors UART status and provides debug output via SWO</li>
<li>Supports interaction with PC using UART/USB cable and terminal application</li>
</ul>
<h1><a class="anchor" id="uart_stream_echo_tx_dma_usage"></a>
Usage</h1>
<ol type="1">
<li>Connect UART pins to PC using UART/USB cable (1.8V logic)</li>
<li>Compile and download the application to target device</li>
<li>Use provided Python script or serial terminal for testing</li>
<li>Send data to device and observe real-time echo and status output</li>
<li>Monitor SWO output for UART status and error information</li>
</ol>
<h1><a class="anchor" id="uart_stream_echo_tx_dma_configuration"></a>
Configuration</h1>
<ul>
<li><b>UART_BAUDRATE:</b> Configurable UART communication rate (default: 3,000,000 baud)</li>
<li><b>TX_DMA_QUEUE_TYPE:</b> DMA queue type (double buffering or circular queue)</li>
<li><b>RX_CALLBACK_THRESHOLD:</b> Threshold for callback-based reception</li>
<li><b>AM_DEBUG_PRINTF:</b> Enables detailed debug output via SWO</li>
</ul>
<p>This driver expects the uart FIFOs be enabled.</p>
<p>Similarly, the interrupt code will move received data into the Rx queue and the application periodically reads from the Rx queue.<br  />
<br  />
</p>
<p>The Rx callback has been enabled here. Once the number of bytes in the Rx buffer exceeds the threshold, the callback is made (from the ISR). Optionally, the callback can be disabled and the rx buffer read via polling.<br  />
<br  />
 This example will immediately retransmit the received data via TX DMA.</p>
<p>The associated ISR handler am_hal_uart_interrupt_queue_service() will return status in a bitfield, suitable for use as a callback or polling.<br  />
<br  />
</p>
<p>Default Configuration:<br  />
 By default, this example uses UART2. The I/O pins used are defined in the BSP file as AM_BSP_GPIO_UART2_TX and AM_BSP_GPIO_UART2_RX&lt;br&gt;<br  />
</p>
<p>Configuration and Operation:<br  />
</p><ul>
<li>These examples require enabling Tx and Rx fifos and queues.<br  />
</li>
</ul>
<p>To interact with these pins from a PC, the user should obtain a 1.8v uart/usb cable (FTDI, etc.).<br  />
</p>
<p>to test use the provided python program ser_echo_test.py or test with a serial terminal by manually typing a block of data 64 to 256 bytes and observe the echo once the internal RX callback size has been reached. The swo output will report status during example operation.&lt;<br  />
<br  />
</p>
<p>The SWO output will send Rx/Tx status and error information. SWO Printing takes place over the ITM at 1MHz.</p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="groups" name="groups"></a>
Topics</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart__stream__common__tx__dma__c.html">UART Streaming Common Data</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart__stream__example__config.html">UART TX DMA Streaming Example</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uart__timer__control__tx__dma__c.html">UART Timer Control</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structuart__example__ramGlobals__t.html">uart_example_ramGlobals_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtest__local__vars__t.html">test_local_vars_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">define RAM vars used locally in this example  <a href="structtest__local__vars__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga1c444be55fa12ad4c8101cb420632e8a" id="r_ga1c444be55fa12ad4c8101cb420632e8a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structuart__example__ramGlobals__t.html">uart_example_ramGlobals_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga1c444be55fa12ad4c8101cb420632e8a">g_localv</a></td></tr>
<tr class="memdesc:ga1c444be55fa12ad4c8101cb420632e8a"><td class="mdescLeft">&#160;</td><td class="mdescRight">allocate global RAM  <br /></td></tr>
<tr class="separator:ga1c444be55fa12ad4c8101cb420632e8a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaec020538e5e7ef6dd6b513c788f252e8" id="r_gaec020538e5e7ef6dd6b513c788f252e8"><td class="memItemLeft" align="right" valign="top">const char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaec020538e5e7ef6dd6b513c788f252e8">cStartupTestString</a> [] = &quot;Starting TxDma test\r\n&quot;</td></tr>
<tr class="separator:gaec020538e5e7ef6dd6b513c788f252e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaec020538e5e7ef6dd6b513c788f252e8" name="gaec020538e5e7ef6dd6b513c788f252e8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaec020538e5e7ef6dd6b513c788f252e8">&#9670;&#160;</a></span>cStartupTestString</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char cStartupTestString[] = &quot;Starting TxDma test\r\n&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga1c444be55fa12ad4c8101cb420632e8a" name="ga1c444be55fa12ad4c8101cb420632e8a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga1c444be55fa12ad4c8101cb420632e8a">&#9670;&#160;</a></span>g_localv</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structuart__example__ramGlobals__t.html">uart_example_ramGlobals_t</a> g_localv</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>allocate global RAM </p>

</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Wed Oct 1 2025 21:34:27 for the AmbiqSuite Examples Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
