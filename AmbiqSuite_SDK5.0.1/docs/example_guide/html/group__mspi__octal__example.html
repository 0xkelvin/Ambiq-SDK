<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AmbiqSuite Examples Guide: MSPI SDR OCTAL Example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="customdoxygen.css" rel="stylesheet" type="text/css" />
<link href="paramAlign.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="am_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">AmbiqSuite Examples Guide<span id="projectnumber">&#160;SDK 5.0.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="doc-content">
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">MSPI SDR OCTAL Example<div class="ingroups"><a class="el" href="group__interface__examples.html">Interface Examples</a></div></div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Purpose: This example demonstrates MSPI (Multi-Serial Peripheral Interface) octal SPI flash functionality for high-performance memory operations. The application showcases MSPI configuration with Octal DDR mode, timing optimization, and memory operations.</p>
<h1><a class="anchor" id="mspi_octal_example_features"></a>
Key Features</h1>
<ol type="1">
<li><b>Octal</b> <b>SPI</b> <b>Flash:</b> Implements Octal DDR mode for high-speed flash memory operations with timing optimization</li>
<li><b>Memory</b> <b>Operations:</b> Provides erase, write, read, and XIP (Execute In Place) operations with verification</li>
<li><b>Timing</b> <b>Optimization:</b> Implements timing scan for optimal MSPI clock and chipset configuration</li>
<li><b>DMA</b> <b>Support:</b> Utilizes DMA for efficient data transfer during read/write operations</li>
<li><b>XIP</b> <b>Functionality:</b> Supports Execute In Place operations for direct code execution from flash memory</li>
</ol>
<h1><a class="anchor" id="mspi_octal_example_functionality"></a>
Functionality</h1>
<p>The application performs the following operations:</p><ul>
<li>Initializes MSPI with timing optimization and configuration</li>
<li>Implements SDR DMA read/write operations with verification</li>
<li>Provides SDR XIP read/write functionality</li>
<li>Supports function call after XIP writes to FLASH</li>
<li>Manages flash memory operations</li>
<li>Implements MSPI configuration and optimization</li>
</ul>
<h1><a class="anchor" id="mspi_octal_example_usage"></a>
Usage</h1>
<ol type="1">
<li>Compile and download the application to target device</li>
<li>Monitor ITM/SWO output for MSPI operations and status</li>
<li>Observe timing optimization and memory operations</li>
<li>Test SDR DMA and XIP read/write functionality</li>
<li>Verify flash memory operations and performance</li>
</ol>
<h1><a class="anchor" id="mspi_octal_example_configuration"></a>
Configuration</h1>
<ul>
<li><b>AM_DEBUG_PRINTF:</b> Enable debug printing (optional)</li>
<li><b>ITM/SWO</b>: Output for debug messages (1MHz)</li>
<li><b>MSPI_BUFFER_SIZE:</b> Configurable buffer size (4KB default)</li>
<li><b>Cache</b> <b>Optimization:</b> CPU read queue and cache combine features</li>
</ul>
<p>Initialize the test:</p><ol type="1">
<li>Run a timing check to find the best timing for the MSPI clock and chipset</li>
<li>Initialize the MSPI instance</li>
<li>Apply the timing scan results</li>
</ol>
<p>Test SDR DMA R/W:</p><ol type="1">
<li>Write known data to a buffer using DMA</li>
<li>Read the data back into another buffer using DMA</li>
<li>Compare the results from 1 and 2 immediately above</li>
</ol>
<p>Test SDR XIP R/W:</p><ol type="1">
<li>Enable XIP</li>
<li>Write known data to a buffer using XIP</li>
<li>Read the data back into another buffer using XIP</li>
<li>Compare the results from 2 and 3 immediately above</li>
</ol>
<p>Test Function Call after XIP writes function to FLASH:</p><ol type="1">
<li>Place MSPI in Scrambling Mode</li>
<li>Write test function to External FLASH</li>
<li>Call function located in FLASH</li>
</ol>
<p>Deinitialize the MSPI and go to sleep</p>
<p>Starting from Apollo510, the MSPI XIP read bandwidth is boosted by the ARM CM55 cache and the MSPI CPU read combine feature. By default, the CPU read queue is on(CPURQEN). Cache prefetch(RID3) and cache miss(RID2) requests deemed appropriate by MSPI hardware are combined and processed with a 2:1 ratio(GQARB) between general queue and CPU read queue.</p>
<p>am_hal_mspi_cpu_read_burst_t default = { .eGQArbBais = AM_HAL_MSPI_GQARB_2_1_BAIS, .bCombineRID2CacheMissAccess = true, .bCombineRID3CachePrefetchAccess = true, .bCombineRID4ICacheAccess = false, .bCPUReadQueueEnable = true, }</p>
<p>Additional Information: To enable debug printing, add the following project-level macro definitions.</p>
<p>AM_DEBUG_PRINTF</p>
<p>When defined, debug messages will be sent over ITM/SWO at 1MHz. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga863d49bf21170a71172e8aa04fe9a119" id="r_ga863d49bf21170a71172e8aa04fe9a119"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga863d49bf21170a71172e8aa04fe9a119">flash_mspi_isr</a>&#160;&#160;&#160;    <a class="el" href="group__lvgl__benchmark.html#ga0ae91adae590cca875090616b70a48ec">am_mspi_isr1</a>(<a class="el" href="group__mspi__hex__ddr__aps25616ba__psram__example.html#ga02d3c4c2c9d57f4a70c758ebb1a8010d">MSPI_TEST_MODULE</a>)</td></tr>
<tr class="separator:ga863d49bf21170a71172e8aa04fe9a119"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac0a9e6e78a138971080cd02b95b20f2e" id="r_gac0a9e6e78a138971080cd02b95b20f2e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac0a9e6e78a138971080cd02b95b20f2e">MSPI_TARGET_SECTOR</a>&#160;&#160;&#160;(0)</td></tr>
<tr class="separator:gac0a9e6e78a138971080cd02b95b20f2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5ff56280ddcf194952fd0bffae194933" id="r_ga5ff56280ddcf194952fd0bffae194933"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga5ff56280ddcf194952fd0bffae194933">MSPI_BUFFER_SIZE</a>&#160;&#160;&#160;(4*1024)</td></tr>
<tr class="separator:ga5ff56280ddcf194952fd0bffae194933"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad2dd72565852b91c809cd4685833b17" id="r_gaad2dd72565852b91c809cd4685833b17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaad2dd72565852b91c809cd4685833b17">DEFAULT_TIMEOUT</a>&#160;&#160;&#160;10000</td></tr>
<tr class="separator:gaad2dd72565852b91c809cd4685833b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7eae1e5b5ac1207fa631cff40d3d43fd" id="r_ga7eae1e5b5ac1207fa631cff40d3d43fd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7eae1e5b5ac1207fa631cff40d3d43fd">MSPI_TIMING_SCAN</a></td></tr>
<tr class="separator:ga7eae1e5b5ac1207fa631cff40d3d43fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga02d3c4c2c9d57f4a70c758ebb1a8010d" id="r_ga02d3c4c2c9d57f4a70c758ebb1a8010d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga02d3c4c2c9d57f4a70c758ebb1a8010d">MSPI_TEST_MODULE</a>&#160;&#160;&#160;AM_BSP_MSPI_FLASH_MODULE</td></tr>
<tr class="separator:ga02d3c4c2c9d57f4a70c758ebb1a8010d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacad3a478d4063238db32a858cb5014dd" id="r_gacad3a478d4063238db32a858cb5014dd"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gacad3a478d4063238db32a858cb5014dd">MSPI_XIP_BASE_ADDRESS</a>&#160;&#160;&#160;MSPI0_APERTURE_START_ADDR</td></tr>
<tr class="separator:gacad3a478d4063238db32a858cb5014dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4b52a5018ca169d05c6ecd3a0a8fd73" id="r_gaf4b52a5018ca169d05c6ecd3a0a8fd73"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">MSPI_TEST_FREQ</a>&#160;&#160;&#160;AM_HAL_MSPI_CLK_96MHZ</td></tr>
<tr class="separator:gaf4b52a5018ca169d05c6ecd3a0a8fd73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0ae91adae590cca875090616b70a48ec" id="r_ga0ae91adae590cca875090616b70a48ec"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga0ae91adae590cca875090616b70a48ec">am_mspi_isr1</a>(n)&#160;&#160;&#160;    <a class="el" href="group__lvgl__benchmark.html#ga4cf85c80a1e1c374814eb60485dab819">am_mspi_isr</a>(n)</td></tr>
<tr class="separator:ga0ae91adae590cca875090616b70a48ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cf85c80a1e1c374814eb60485dab819" id="r_ga4cf85c80a1e1c374814eb60485dab819"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4cf85c80a1e1c374814eb60485dab819">am_mspi_isr</a>(n)&#160;&#160;&#160;    am_mspi ## n ## _isr</td></tr>
<tr class="separator:ga4cf85c80a1e1c374814eb60485dab819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadab868c7e0caaf34a29266afc3bcc67e" id="r_gadab868c7e0caaf34a29266afc3bcc67e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadab868c7e0caaf34a29266afc3bcc67e">MSPI_XIP_FUNCTION_SIZE</a>&#160;&#160;&#160;72</td></tr>
<tr class="separator:gadab868c7e0caaf34a29266afc3bcc67e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gadeb596e31c1b0db3b671bd05e57d82a9" id="r_gadeb596e31c1b0db3b671bd05e57d82a9"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gadeb596e31c1b0db3b671bd05e57d82a9">mspi_xip_test_function_t</a>) (void)</td></tr>
<tr class="separator:gadeb596e31c1b0db3b671bd05e57d82a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga7ddb82ce492c598ffa31e87f78c01544" id="r_ga7ddb82ce492c598ffa31e87f78c01544"><td class="memItemLeft" align="right" valign="top">AM_SHARED_RW uint8_t g_SectorTXBuffer[<a class="el" href="group__mspi__hex__ddr__aps25616ba__psram__example.html#ga5ff56280ddcf194952fd0bffae194933">MSPI_BUFFER_SIZE</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga7ddb82ce492c598ffa31e87f78c01544">__attribute__</a> ((aligned(32)))</td></tr>
<tr class="separator:ga7ddb82ce492c598ffa31e87f78c01544"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaa72d902537491df4820503ab9cc393fc" id="r_gaa72d902537491df4820503ab9cc393fc"><td class="memItemLeft" align="right" valign="top">AM_SHARED_RW uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a> [256]</td></tr>
<tr class="separator:gaa72d902537491df4820503ab9cc393fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4cf6e4d1cdbc8bffafe91bd883c97300" id="r_ga4cf6e4d1cdbc8bffafe91bd883c97300"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga4cf6e4d1cdbc8bffafe91bd883c97300">g_FlashHdl</a></td></tr>
<tr class="separator:ga4cf6e4d1cdbc8bffafe91bd883c97300"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga81640f59c285e5764295ddcbd8f8403d" id="r_ga81640f59c285e5764295ddcbd8f8403d"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga81640f59c285e5764295ddcbd8f8403d">g_MSPIHdl</a></td></tr>
<tr class="separator:ga81640f59c285e5764295ddcbd8f8403d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga946d5bffc7d8c9db79ced2a0f3837d16" id="r_ga946d5bffc7d8c9db79ced2a0f3837d16"><td class="memItemLeft" align="right" valign="top">const am_hal_mspi_clock_e&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga946d5bffc7d8c9db79ced2a0f3837d16">eClockFreq</a> = <a class="el" href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">MSPI_TEST_FREQ</a></td></tr>
<tr class="separator:ga946d5bffc7d8c9db79ced2a0f3837d16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafed7a2b57a541dd9dc946f76d09fff7a" id="r_gafed7a2b57a541dd9dc946f76d09fff7a"><td class="memItemLeft" align="right" valign="top">const am_abstract_mspi_devices_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gafed7a2b57a541dd9dc946f76d09fff7a">MSPI_Flash_Config</a></td></tr>
<tr class="separator:gafed7a2b57a541dd9dc946f76d09fff7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga98e50d79a153a89c1779a63e1692db87" id="r_ga98e50d79a153a89c1779a63e1692db87"><td class="memItemLeft" align="right" valign="top">am_abstract_mspi_devices_timing_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga98e50d79a153a89c1779a63e1692db87">MSPISdrTimingConfig</a></td></tr>
<tr class="separator:ga98e50d79a153a89c1779a63e1692db87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga11a6a236373879ede2a44a21735f734d" id="r_ga11a6a236373879ede2a44a21735f734d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmspi__device__func__t.html">mspi_device_func_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga11a6a236373879ede2a44a21735f734d">mspi_device_func</a></td></tr>
<tr class="separator:ga11a6a236373879ede2a44a21735f734d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga97069e2ed57d343b5260c348cbdb7f5e" id="r_ga97069e2ed57d343b5260c348cbdb7f5e"><td class="memItemLeft" align="right" valign="top">am_hal_mpu_region_config_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ga97069e2ed57d343b5260c348cbdb7f5e">sMPUCfg</a></td></tr>
<tr class="separator:ga97069e2ed57d343b5260c348cbdb7f5e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac8f751d589c91e58f46bc736c17e4899" id="r_gac8f751d589c91e58f46bc736c17e4899"><td class="memItemLeft" align="right" valign="top">am_hal_mpu_attr_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#gac8f751d589c91e58f46bc736c17e4899">sMPUAttr</a></td></tr>
<tr class="separator:gac8f751d589c91e58f46bc736c17e4899"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga4cf85c80a1e1c374814eb60485dab819" name="ga4cf85c80a1e1c374814eb60485dab819"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cf85c80a1e1c374814eb60485dab819">&#9670;&#160;</a></span>am_mspi_isr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_mspi_isr</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    am_mspi ## n ## _isr</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga0ae91adae590cca875090616b70a48ec" name="ga0ae91adae590cca875090616b70a48ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga0ae91adae590cca875090616b70a48ec">&#9670;&#160;</a></span>am_mspi_isr1</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define am_mspi_isr1</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>n</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    <a class="el" href="group__lvgl__benchmark.html#ga4cf85c80a1e1c374814eb60485dab819">am_mspi_isr</a>(n)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaad2dd72565852b91c809cd4685833b17" name="gaad2dd72565852b91c809cd4685833b17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaad2dd72565852b91c809cd4685833b17">&#9670;&#160;</a></span>DEFAULT_TIMEOUT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_TIMEOUT&#160;&#160;&#160;10000</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga863d49bf21170a71172e8aa04fe9a119" name="ga863d49bf21170a71172e8aa04fe9a119"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga863d49bf21170a71172e8aa04fe9a119">&#9670;&#160;</a></span>flash_mspi_isr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void flash_mspi_isr</td>
          <td>(</td>
          <td class="paramtype"></td>          <td class="paramname"><span class="paramname"><em>void</em></span></td><td>)</td>
          <td>&#160;&#160;&#160;    <a class="el" href="group__lvgl__benchmark.html#ga0ae91adae590cca875090616b70a48ec">am_mspi_isr1</a>(<a class="el" href="group__mspi__hex__ddr__aps25616ba__psram__example.html#ga02d3c4c2c9d57f4a70c758ebb1a8010d">MSPI_TEST_MODULE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga5ff56280ddcf194952fd0bffae194933" name="ga5ff56280ddcf194952fd0bffae194933"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5ff56280ddcf194952fd0bffae194933">&#9670;&#160;</a></span>MSPI_BUFFER_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_BUFFER_SIZE&#160;&#160;&#160;(4*1024)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac0a9e6e78a138971080cd02b95b20f2e" name="gac0a9e6e78a138971080cd02b95b20f2e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac0a9e6e78a138971080cd02b95b20f2e">&#9670;&#160;</a></span>MSPI_TARGET_SECTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_TARGET_SECTOR&#160;&#160;&#160;(0)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaf4b52a5018ca169d05c6ecd3a0a8fd73" name="gaf4b52a5018ca169d05c6ecd3a0a8fd73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">&#9670;&#160;</a></span>MSPI_TEST_FREQ</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_TEST_FREQ&#160;&#160;&#160;AM_HAL_MSPI_CLK_96MHZ</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga02d3c4c2c9d57f4a70c758ebb1a8010d" name="ga02d3c4c2c9d57f4a70c758ebb1a8010d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga02d3c4c2c9d57f4a70c758ebb1a8010d">&#9670;&#160;</a></span>MSPI_TEST_MODULE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_TEST_MODULE&#160;&#160;&#160;AM_BSP_MSPI_FLASH_MODULE</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga7eae1e5b5ac1207fa631cff40d3d43fd" name="ga7eae1e5b5ac1207fa631cff40d3d43fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7eae1e5b5ac1207fa631cff40d3d43fd">&#9670;&#160;</a></span>MSPI_TIMING_SCAN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_TIMING_SCAN</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gacad3a478d4063238db32a858cb5014dd" name="gacad3a478d4063238db32a858cb5014dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gacad3a478d4063238db32a858cb5014dd">&#9670;&#160;</a></span>MSPI_XIP_BASE_ADDRESS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_XIP_BASE_ADDRESS&#160;&#160;&#160;MSPI0_APERTURE_START_ADDR</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gadab868c7e0caaf34a29266afc3bcc67e" name="gadab868c7e0caaf34a29266afc3bcc67e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadab868c7e0caaf34a29266afc3bcc67e">&#9670;&#160;</a></span>MSPI_XIP_FUNCTION_SIZE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MSPI_XIP_FUNCTION_SIZE&#160;&#160;&#160;72</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="gadeb596e31c1b0db3b671bd05e57d82a9" name="gadeb596e31c1b0db3b671bd05e57d82a9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gadeb596e31c1b0db3b671bd05e57d82a9">&#9670;&#160;</a></span>mspi_xip_test_function_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* mspi_xip_test_function_t) (void)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga7ddb82ce492c598ffa31e87f78c01544" name="ga7ddb82ce492c598ffa31e87f78c01544"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7ddb82ce492c598ffa31e87f78c01544">&#9670;&#160;</a></span>__attribute__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AM_SHARED_RW uint8_t g_SectorTXBuffer[<a class="el" href="group__mspi__hex__ddr__aps25616ba__psram__example.html#ga5ff56280ddcf194952fd0bffae194933">MSPI_BUFFER_SIZE</a>] __attribute__ </td>
          <td>(</td>
          <td class="paramtype">(aligned(32))</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga840291bc02cba5474a4cb46a9b9566fe" name="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga840291bc02cba5474a4cb46a9b9566fe">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="gaa72d902537491df4820503ab9cc393fc" name="gaa72d902537491df4820503ab9cc393fc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa72d902537491df4820503ab9cc393fc">&#9670;&#160;</a></span>DMATCBBuffer</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AM_SHARED_RW uint32_t DMATCBBuffer[256]</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga946d5bffc7d8c9db79ced2a0f3837d16" name="ga946d5bffc7d8c9db79ced2a0f3837d16"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga946d5bffc7d8c9db79ced2a0f3837d16">&#9670;&#160;</a></span>eClockFreq</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const am_hal_mspi_clock_e eClockFreq = <a class="el" href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">MSPI_TEST_FREQ</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga4cf6e4d1cdbc8bffafe91bd883c97300" name="ga4cf6e4d1cdbc8bffafe91bd883c97300"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4cf6e4d1cdbc8bffafe91bd883c97300">&#9670;&#160;</a></span>g_FlashHdl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* g_FlashHdl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga81640f59c285e5764295ddcbd8f8403d" name="ga81640f59c285e5764295ddcbd8f8403d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga81640f59c285e5764295ddcbd8f8403d">&#9670;&#160;</a></span>g_MSPIHdl</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* g_MSPIHdl</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga11a6a236373879ede2a44a21735f734d" name="ga11a6a236373879ede2a44a21735f734d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga11a6a236373879ede2a44a21735f734d">&#9670;&#160;</a></span>mspi_device_func</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmspi__device__func__t.html">mspi_device_func_t</a> mspi_device_func</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    .devName = <span class="stringliteral">&quot;MSPI FLASH ATXP032&quot;</span>,</div>
<div class="line">    .mspi_init = am_devices_mspi_atxp032_init,</div>
<div class="line">    .mspi_init_timing_check = am_devices_mspi_atxp032_sdr_init_timing_check,</div>
<div class="line">    .mspi_init_timing_apply = am_devices_mspi_atxp032_apply_sdr_timing,</div>
<div class="line">    .mspi_term = am_devices_mspi_atxp032_deinit,</div>
<div class="line">    .mspi_read_id = am_devices_mspi_atxp032_id,</div>
<div class="line">    .mspi_read = am_devices_mspi_atxp032_read,</div>
<div class="line">    .mspi_read_adv = am_devices_mspi_atxp032_read_adv,</div>
<div class="line">    .mspi_write = am_devices_mspi_atxp032_write,</div>
<div class="line">    .mspi_mass_erase = am_devices_mspi_atxp032_mass_erase,</div>
<div class="line">    .mspi_sector_erase = am_devices_mspi_atxp032_sector_erase,</div>
<div class="line">    .mspi_xip_enable = am_devices_mspi_atxp032_enable_xip,</div>
<div class="line">    .mspi_xip_disable = am_devices_mspi_atxp032_disable_xip,</div>
<div class="line">    .mspi_scrambling_enable = am_devices_mspi_atxp032_enable_scrambling,</div>
<div class="line">    .mspi_scrambling_disable = am_devices_mspi_atxp032_disable_scrambling,</div>
<div class="line"> </div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="gafed7a2b57a541dd9dc946f76d09fff7a" name="gafed7a2b57a541dd9dc946f76d09fff7a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafed7a2b57a541dd9dc946f76d09fff7a">&#9670;&#160;</a></span>MSPI_Flash_Config</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const am_abstract_mspi_devices_config_t MSPI_Flash_Config</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    .eDeviceConfig = AM_HAL_MSPI_FLASH_OCTAL_CE0,</div>
<div class="line"> </div>
<div class="line"> </div>
<div class="line">    .eClockFreq = <a class="code hl_define" href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">MSPI_TEST_FREQ</a>,</div>
<div class="line">    .pNBTxnBuf = <a class="code hl_variable" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a>,</div>
<div class="line">    .ui32NBTxnBufLength = (<span class="keyword">sizeof</span>(<a class="code hl_variable" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a>) / <span class="keyword">sizeof</span>(uint32_t)),</div>
<div class="line">    .ui32ScramblingStartAddr = 0,</div>
<div class="line">    .ui32ScramblingEndAddr = 0,</div>
<div class="line">}</div>
<div class="ttc" id="agroup__mspi__octal__example_html_gaa72d902537491df4820503ab9cc393fc"><div class="ttname"><a href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a></div><div class="ttdeci">AM_SHARED_RW uint32_t DMATCBBuffer[256]</div><div class="ttdef"><b>Definition</b> mspi_octal_example.c:177</div></div>
<div class="ttc" id="agroup__mspi__octal__example_html_gaf4b52a5018ca169d05c6ecd3a0a8fd73"><div class="ttname"><a href="#gaf4b52a5018ca169d05c6ecd3a0a8fd73">MSPI_TEST_FREQ</a></div><div class="ttdeci">#define MSPI_TEST_FREQ</div><div class="ttdef"><b>Definition</b> mspi_octal_example.c:181</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ga98e50d79a153a89c1779a63e1692db87" name="ga98e50d79a153a89c1779a63e1692db87"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga98e50d79a153a89c1779a63e1692db87">&#9670;&#160;</a></span>MSPISdrTimingConfig</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">am_abstract_mspi_devices_timing_config_t MSPISdrTimingConfig</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gac8f751d589c91e58f46bc736c17e4899" name="gac8f751d589c91e58f46bc736c17e4899"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac8f751d589c91e58f46bc736c17e4899">&#9670;&#160;</a></span>sMPUAttr</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">am_hal_mpu_attr_t sMPUAttr</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .ui8AttrIndex = 0,</div>
<div class="line">    .bNormalMem = <span class="keyword">true</span>,</div>
<div class="line">    .sOuterAttr = {</div>
<div class="line">                    .bNonTransient = <span class="keyword">false</span>,</div>
<div class="line">                    .bWriteBack = <span class="keyword">true</span>,</div>
<div class="line">                    .bReadAllocate = <span class="keyword">false</span>,</div>
<div class="line">                    .bWriteAllocate = <span class="keyword">false</span></div>
<div class="line">                  },</div>
<div class="line">    .sInnerAttr = {</div>
<div class="line">                    .bNonTransient = <span class="keyword">false</span>,</div>
<div class="line">                    .bWriteBack = <span class="keyword">true</span>,</div>
<div class="line">                    .bReadAllocate = <span class="keyword">false</span>,</div>
<div class="line">                    .bWriteAllocate = <span class="keyword">false</span></div>
<div class="line">                  },</div>
<div class="line">    .eDeviceAttr = 0,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
<a id="ga97069e2ed57d343b5260c348cbdb7f5e" name="ga97069e2ed57d343b5260c348cbdb7f5e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga97069e2ed57d343b5260c348cbdb7f5e">&#9670;&#160;</a></span>sMPUCfg</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">am_hal_mpu_region_config_t sMPUCfg</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    .ui32RegionNumber = 6,</div>
<div class="line">    .ui32BaseAddress = (uint32_t)<a class="code hl_variable" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a>,</div>
<div class="line">    .eShareable = NON_SHARE,</div>
<div class="line">    .eAccessPermission = RW_NONPRIV,</div>
<div class="line">    .bExecuteNever = <span class="keyword">true</span>,</div>
<div class="line">    .ui32LimitAddress = (uint32_t)<a class="code hl_variable" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a> + <span class="keyword">sizeof</span>(<a class="code hl_variable" href="#gaa72d902537491df4820503ab9cc393fc">DMATCBBuffer</a>) - 1,</div>
<div class="line">    .ui32AttrIndex = 0,</div>
<div class="line">    .bEnable = <span class="keyword">true</span>,</div>
<div class="line">}</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<hr size="1">
    <body>
        <div id="footer" align="right">        
            <small>
                Generated on Wed Oct 1 2025 21:34:26 for the AmbiqSuite Examples Guide by&nbsp;
                <a href="http://www.ambiqmicro.com">
                <img class="footer" src="./ambiq_logo.png" alt="Ambiq"/></a>&nbsp&nbsp Copyright &copy; 2025&nbsp&nbsp<br />
                This documentation is licensed and distributed under the <a rel="license" href="http://opensource.org/licenses/BSD-3-Clause">BSD 3-Clause License</a>.&nbsp&nbsp<br/>
            </small>
        </div>
    </body>
</html>
